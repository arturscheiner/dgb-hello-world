{
  "start": [
    {
      "name": "json-generator-connector",
      "type": "connector",
      "stepName": "Hello Worlds",
      "params": {
        "json": "{\n    \"message\": \"Hello World\"\n}",
        "failOnError": false
      },
      "id": "891ebfeb-4c62-4580-a846-442cccc05f26"
    },
    {
      "type": "connector",
      "name": "block-execution-connector",
      "stepName": "Bloco de Validação Inicial",
      "params": {
        "onProcess": "8680a68e-d58b-45bc-abdd-f2229d73fa8c-onProcessTrack",
        "onException": "8680a68e-d58b-45bc-abdd-f2229d73fa8c-onExceptionTrack"
      },
      "id": "8680a68e-d58b-45bc-abdd-f2229d73fa8c",
      "description": "Document here what this block is supposed to do."
    },
    {
      "type": "connector",
      "name": "Azure-Blob-Storage-Connector",
      "stepName": "Blob Storage (Azure)",
      "accountLabel": "azure",
      "params": {
        "operation": "upload",
        "fileName": "file.csv",
        "remoteFileName": "test.csv",
        "containerName": "container",
        "showFileLink": true,
        "failOnError": false
      },
      "id": "97246f73-c40f-470e-bbc0-72882df729da"
    },
    {
      "type": "connector",
      "name": "for-each-connector",
      "stepName": "For Each",
      "params": {
        "jsonPath": "$",
        "itemIdentifier": "",
        "parallel": false,
        "failOnError": false,
        "onProcess": "30c16054-d516-40e7-a499-8ae815d5f811-onProcessTrack",
        "onException": "30c16054-d516-40e7-a499-8ae815d5f811-onExceptionTrack"
      },
      "id": "30c16054-d516-40e7-a499-8ae815d5f811"
    },
    {
      "type": "choice",
      "stepName": "Choice",
      "when": [
        {
          "target": "condition-5",
          "jsonPath": "$"
        }
      ],
      "otherwise": "condition-6",
      "id": "540e0db6-adef-43cd-b3ac-247e33c49f0d"
    }
  ],
  "8680a68e-d58b-45bc-abdd-f2229d73fa8c-onProcessTrack": [
    {
      "type": "connector",
      "name": "log-connector",
      "stepName": "Log de Validação Inicial",
      "params": {
        "logLevel": "INFO",
        "message": "Error processing message {{ message.$.myField }}"
      },
      "id": "6b17c8d5-1234-4472-a99d-4c77a04141eb"
    },
    {
      "type": "session-management",
      "stepName": "Session Management",
      "operation": "GET",
      "sessionType": "LOCAL",
      "scoped": false,
      "fields": [
        "body",
        "data",
        "id"
      ],
      "id": "852918cb-6efd-4641-b268-b381342f89b4"
    }
  ],
  "8680a68e-d58b-45bc-abdd-f2229d73fa8c-onExceptionTrack": [
    {
      "type": "connector",
      "name": "log-connector",
      "stepName": "Log - onException",
      "params": {
        "logLevel": "ERROR",
        "message": "Error processing message {{ message.$.myField }}"
      },
      "id": "61896575-6d21-4e5e-9fd9-747ef4bbff2b"
    }
  ],
  "30c16054-d516-40e7-a499-8ae815d5f811-onProcessTrack": [
    {
      "type": "connector",
      "name": "json-transformer-connector",
      "stepName": "JSON Transformer",
      "params": {
        "failOnError": false
      },
      "id": "e7b646d0-b76e-4952-ba91-c6300bf636fe"
    },
    {
      "type": "connector",
      "name": "block-execution-connector",
      "stepName": "Block do For-Each",
      "params": {
        "onProcess": "19177c23-6fe1-4806-8819-af526bda360a-onProcessTrack",
        "onException": "19177c23-6fe1-4806-8819-af526bda360a-onExceptionTrack"
      },
      "id": "19177c23-6fe1-4806-8819-af526bda360a",
      "description": "Document here what this block is supposed to do."
    }
  ],
  "19177c23-6fe1-4806-8819-af526bda360a-onProcessTrack": [
    {
      "type": "connector",
      "name": "log-connector",
      "stepName": "Log do Block do For-Each",
      "params": {
        "logLevel": "INFO",
        "message": "Error processing message {{ message.$.myField }}"
      },
      "id": "9131657b-f0cc-4bff-9eb2-d94eaf84583b"
    },
    {
      "type": "connector",
      "name": "block-execution-connector",
      "stepName": "Block-Execution",
      "params": {
        "onProcess": "4f8eea97-b6a6-46f6-a2f3-dedbe72895cd-onProcessTrack",
        "onException": "4f8eea97-b6a6-46f6-a2f3-dedbe72895cd-onExceptionTrack"
      },
      "id": "4f8eea97-b6a6-46f6-a2f3-dedbe72895cd"
    }
  ],
  "4f8eea97-b6a6-46f6-a2f3-dedbe72895cd-onProcessTrack": [
    {
      "type": "connector",
      "name": "log-connector",
      "stepName": "Log",
      "params": {
        "logLevel": "ERROR",
        "message": "Error processing message {{ message.$.myField }}"
      },
      "id": "66174384-a15d-41c7-8784-8c307cc47a51"
    },
    {
      "type": "connector",
      "accountLabel": "mysql",
      "name": "sap-connector",
      "stepName": "SAP (IDoc and RFC)",
      "params": {
        "failOnError": false,
        "operation": "RFC",
        "asHost": "localhost",
        "lang": "en",
        "client": "400",
        "sysnr": "01",
        "RFC": "YYPCL_RFC_ORDEM_FATURA",
        "sapRequestTemplate": "<?xml version=\"1.0\" encoding=\"ASCII\"?><YYPCL_RFC_ORDEM_FATURA:Request xmlns:YYPCL_RFC_ORDEM_FATURA=\"http://sap.fusesource.org/rfc/QAS/YYPCL_RFC_ORDEM_FATURA\" P_ERDAT_INI=\"2018-07-01T00:00:00.000\" P_ERDAT_FIM=\"2018-08-01T00:00:00.000\" CLIENTE=\"\" VKORG=\"0050\" AUART=\"\" />"
      },
      "id": "fc76cac2-69ba-4059-b685-68f570867c87"
    }
  ],
  "4f8eea97-b6a6-46f6-a2f3-dedbe72895cd-onExceptionTrack": [
    {
      "type": "connector",
      "stepName": "Event Publisher",
      "name": "event-publisher-connector",
      "params": {
        "eventName": "{{ DEFAULT(message.eventName, \"new-event\") }}",
        "body": "{{ message.$ }}",
        "showSendEventLog": false,
        "stopOnError": false
      },
      "id": "b582f763-39f9-4ae7-82e8-110c50af6f08"
    },
    {
      "type": "connector",
      "name": "throw-error-connector",
      "stepName": "Throw Error",
      "params": {
        "errorMessage": "Error occurred.",
        "errorCode": 500,
        "customErrorEnabled": false
      },
      "id": "9037c7ac-bdd1-465b-8d09-72029ecd5d1f"
    }
  ],
  "19177c23-6fe1-4806-8819-af526bda360a-onExceptionTrack": [
    {
      "type": "connector",
      "name": "throw-error-connector",
      "stepName": "Throw Error do Block do For-Each",
      "params": {
        "errorMessage": "Error occurred.",
        "errorCode": 500,
        "customErrorEnabled": false
      },
      "id": "120cce17-9d95-45a8-9193-2b3f42374e60"
    }
  ],
  "30c16054-d516-40e7-a499-8ae815d5f811-onExceptionTrack": [
    {
      "type": "connector",
      "name": "throw-error-connector",
      "stepName": "Throw Error do For-Each",
      "params": {
        "errorMessage": "Error occurred.",
        "errorCode": 500,
        "customErrorEnabled": false
      },
      "id": "0e5969b9-97e2-49cf-b605-e68fe917a30d"
    }
  ],
  "condition-5": [
    {
      "type": "connector",
      "name": "log-connector",
      "stepName": "Log",
      "params": {
        "logLevel": "ERROR",
        "message": "Error processing message {{ message.$.myField }}"
      },
      "id": "bdbcac2a-0f5a-426b-b6c3-a12020dcaa60"
    }
  ],
  "condition-6": [
    {
      "type": "connector",
      "name": "log-connector",
      "stepName": "Log - OTHERWISE",
      "params": {
        "logLevel": "INFO",
        "message": "Error processing message {{ message.$.myField }}"
      },
      "id": "242a22a5-dd5c-4756-b7b7-f2d376af121a"
    },
    {
      "type": "capsule",
      "name": "capsule-v1-demo-devops-commit-message-1.0",
      "capsuleCollection": "devops",
      "capsuleCollectionVersion": 1,
      "capsule": "commit-message-1.0",
      "capsuleVersionMajor": 1,
      "capsuleVersionMinor": 0,
      "stepName": "Commit Message",
      "params": {
        "commit_summary": "This is my first commit",
        "commit_description": "My first commit is based on the resolution of a bug."
      },
      "id": "718fed48-b04c-4521-b2f5-923925bfcab0"
    }
  ]
}
